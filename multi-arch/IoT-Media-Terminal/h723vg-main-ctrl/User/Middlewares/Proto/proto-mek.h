/**
 *******************************************************************************
 * @file    parser-mek.h
 * @brief   简要描述
 *******************************************************************************
 * @attention
 *
 * none
 *
 *******************************************************************************
 * @note
 *
 * none
 *
 *******************************************************************************
 * @author  MekLi
 * @date    2025/10/17
 * @version 1.0
 *******************************************************************************
 */


/* Define to prevent recursive inclusion -----------------------------------------------------------------------------*/

#pragma once



/*-------- includes --------------------------------------------------------------------------------------------------*/

#include "proto-def-mek.h"




/*-------- typedef ---------------------------------------------------------------------------------------------------*/

class MekProtocolParser {
public:
    MekProtocolParser(FrameCallback fc, ErrorCallback ec);

    void feed(const uint8_t* data, uint16_t len);
    void reset();

private:
    std::vector<uint8_t> buffer_;
    FrameCallback onFrame_;
    ErrorCallback onError_;

    void parse_buffer();

};



class MekProtocolPacker {
public:
    MekProtocolPacker(FrameCallback fc, ErrorCallback ec);


};




/*-------- define ----------------------------------------------------------------------------------------------------*/





/*-------- macro -----------------------------------------------------------------------------------------------------*/






/*-------- variables -------------------------------------------------------------------------------------------------*/





/*-------- function prototypes ---------------------------------------------------------------------------------------*/
